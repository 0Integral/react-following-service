{"version":3,"file":"static/js/225.5f92bfc0.chunk.js","mappings":"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","sources":["services/UserServices.js","components/Card/Card.styled.js","components/Card/Card.js","pages/Tweets.styled.js","components/Spinner/Spinner.styled.js","components/Spinner/Spinner.js","pages/Tweets.js","components/localStorage/localStorage.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://64419460fadc69b8e087884d.mockapi.io/';\n\nexport async function getUsersBase() {\n  const res = await axios.get(`/users`);\n  return res.data;\n}\n\nexport async function getMoreUsersInfo(page = 1) {\n  const res = await axios.get(`/users?page=${page}&limit=6`);\n  return res.data;\n}\n","import styled from 'styled-components';\n\nexport const TweetsListItem = styled.div`\n  width: 380px;\n  height: 460px;\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n\n  position: relative;\n`;\n\nexport const DecorCardPart = styled.div`\n  padding: 28px 36px 18px;\n`;\n\nexport const InfoCardPart = styled.div`\n  position: relative;\n  text-align: center;\n  color: #ebd8ff;\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.2;\n  text-transform: uppercase;\n  &:before {\n    content: '';\n    width: 100%;\n    display: block;\n    height: 8px;\n    background: #ebd8ff;\n    margin-bottom: 62px;\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n      inset 0px -1.71846px 3.43693px #ae7be3,\n      inset 0px 3.43693px 2.5777px #fbf8ff;\n  }\n`;\n\nexport const LogoImg = styled.img`\n  position: absolute;\n  left: 20px;\n  top: 20px;\n`;\n\nexport const Avatar = styled.img`\n  width: 64px;\n  height: 64px;\n  position: absolute;\n  left: 50%;\n  top: 0;\n  transform: translate(-50%, -50%);\n\n  border: 13px solid #ebd8ff;\n  border-radius: 50%;\n\n  overflow: hidden;\n`;\n\nexport const Tweets = styled.p`\n  margin-bottom: 16px;\n`;\nexport const Followers = styled.p`\n  margin-bottom: 26px;\n`;\n\nexport const FollowBtn = styled.button`\n  background: ${props => (props.following ? '#5CD3A8' : '#EBD8FF')};\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  border: none;\n\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n\n  width: 196px;\n  height: 50px;\n`;\n","import {\n  Avatar,\n  DecorCardPart,\n  Followers,\n  InfoCardPart,\n  LogoImg,\n  TweetsListItem,\n  Tweets,\n  FollowBtn,\n} from './Card.styled';\nimport logo from '../../img/logo.png';\nimport decorImg from '../../img/decor.png';\n\nexport const Card = ({ userInfo, onFollow, following }) => {\n  const { id, tweets, followers, avatar } = userInfo;\n  const followNow = following(id);\n\n  const converNumber = number => new Intl.NumberFormat('ja-JP').format(number);\n\n  return (\n    <TweetsListItem>\n      <DecorCardPart>\n        <LogoImg src={logo} alt=\"Logo\" />\n        <img src={decorImg} alt=\"Logo\" />\n      </DecorCardPart>\n      <InfoCardPart>\n        <Avatar src={avatar} alt=\"Avatar\" />\n        <Tweets>{tweets} TWEETS</Tweets>\n        <Followers>\n          {followNow ? converNumber(followers + 1) : converNumber(followers)}{' '}\n          FOLLOWERS\n        </Followers>\n        <FollowBtn\n          id={id}\n          following={followNow ? 'following' : ''}\n          onClick={onFollow}\n        >\n          {followNow ? 'following' : 'follow'}\n        </FollowBtn>\n      </InfoCardPart>\n    </TweetsListItem>\n  );\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const TweetsList = styled.ul`\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: auto;\n  list-style: none;\n  max-width: 1200px;\n`;\n\nexport const LoadMoreBtn = styled.button`\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  border: none;\n  cursor: pointer;\n\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n  color: #ebd8ff;\n\n  width: 196px;\n  height: 50px;\n\n  display: block;\n  margin: 24px auto;\n`;\n\nexport const StyledLinkBack = styled(NavLink)`\n  background: white;\n  width: 50px;\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  text-decoration: none;\n  border: 1px solid black;\n  border-radius: 50%;\n\n  position: fixed;\n  left: 30px;\n  bottom: 30px;\n\n  z-index: 99;\n`;\n","import styled from 'styled-components';\n\nexport const SpinnerContainer = styled.div`\n  width: 100%;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n`;\n","import { ClipLoader } from 'react-spinners';\nimport { SpinnerContainer } from './Spinner.styled';\n\nexport const Spinner = () => {\n  return (\n    <SpinnerContainer>\n      <ClipLoader color=\"#4b2a99\" loading size={100} />\n    </SpinnerContainer>\n  );\n};\n","import { getMoreUsersInfo, getUsersBase } from 'services/UserServices';\nimport { useEffect, useState } from 'react';\nimport { useLocalStorage } from 'components/localStorage/localStorage';\n\nimport { Card } from 'components/Card/Card';\nimport { LoadMoreBtn, StyledLinkBack, TweetsList } from './Tweets.styled';\nimport { Spinner } from 'components/Spinner/Spinner';\n\nconst Tweets = () => {\n  const [userStatistics, setUserStatistic] = useState([]);\n  const [displayUsers, setDisplayUsers] = useState([]);\n  const [isLoading, setIsloading] = useState(false);\n  const [loadMore, setLoadMore] = useState(true);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(2);\n  const [follow, setfollow] = useLocalStorage('follow');\n  const [maxPages, setMaxPages] = useState(0);\n\n  const handleLoadMore = async () => {\n    try {\n      setPage(prev => prev + 1);\n      const res = await getMoreUsersInfo(page);\n      setDisplayUsers(prev => [...prev, ...res]);\n    } catch (e) {\n      setError(e.message);\n    }\n  };\n\n  const onFollow = e => {\n    const followingId = e.target.id;\n    follow.some(id => id === followingId)\n      ? setfollow(prev => prev.filter(id => id !== followingId))\n      : setfollow(prev => [...prev, followingId]);\n  };\n\n  function getInfoAboutFollowing(id) {\n    return follow.some(followId => followId === id);\n  }\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsloading(true);\n        const res = await getUsersBase();\n        const resForDisplay = await getMoreUsersInfo();\n        setUserStatistic(res);\n        setDisplayUsers(resForDisplay);\n      } catch (e) {\n        setError(e.message);\n      } finally {\n        setIsloading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    setMaxPages(Math.round(userStatistics.length / 6));\n  }, [userStatistics]);\n\n  useEffect(() => {\n    page > maxPages ? setLoadMore(false) : setLoadMore(true);\n  }, [page, maxPages]);\n\n  return isLoading ? (\n    <Spinner />\n  ) : error ? (\n    <div>{error}</div>\n  ) : (\n    <div>\n      <StyledLinkBack to=\"/\">Back</StyledLinkBack>\n      <TweetsList>\n        {displayUsers.map(user => {\n          return (\n            <li key={user.id}>\n              <Card\n                userInfo={user}\n                onFollow={onFollow}\n                following={getInfoAboutFollowing}\n              />\n            </li>\n          );\n        })}\n      </TweetsList>\n      {loadMore && (\n        <LoadMoreBtn onClick={handleLoadMore}>Load more</LoadMoreBtn>\n      )}\n    </div>\n  );\n};\n\nexport default Tweets;\n","import { useEffect, useState } from 'react';\n\nexport const useLocalStorage = key => {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? []\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, setState];\n};\n"],"names":["getUsersBase","axios","res","data","getMoreUsersInfo","page","TweetsListItem","styled","DecorCardPart","InfoCardPart","LogoImg","Avatar","Tweets","Followers","FollowBtn","props","following","Card","userInfo","onFollow","id","tweets","followers","avatar","followNow","converNumber","number","Intl","NumberFormat","format","src","alt","decorImg","onClick","TweetsList","LoadMoreBtn","StyledLinkBack","NavLink","SpinnerContainer","Spinner","ClipLoader","color","loading","size","useState","userStatistics","setUserStatistic","displayUsers","setDisplayUsers","isLoading","setIsloading","loadMore","setLoadMore","error","setError","setPage","key","JSON","parse","window","localStorage","getItem","state","setState","useEffect","setItem","stringify","useLocalStorage","follow","setfollow","maxPages","setMaxPages","handleLoadMore","prev","message","e","followingId","target","some","filter","getInfoAboutFollowing","followId","resForDisplay","Math","round","length","to","map","user"],"sourceRoot":""}