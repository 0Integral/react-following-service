{"version":3,"file":"static/js/663.df5d3926.chunk.js","mappings":"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","sources":["services/UserServices.js","components/Card/Card.styled.js","components/Card/Card.js","components/TweetList/TweetList.styled.js","components/TweetList/TweetList.js","pages/Tweets.styled.js","components/Spinner/Spinner.styled.js","components/Spinner/Spinner.js","components/Select/Select.styled.js","components/Select/Select.js","components/ErrorMsg/ErrorMsg.styled.js","components/ErrorMsg/ErrorMsg.js","pages/Tweets.js","components/localStorage/localStorage.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://64419460fadc69b8e087884d.mockapi.io/';\n\nexport async function getUsersBase() {\n  const res = await axios.get(`/users`);\n  return res.data;\n}\n\nexport async function getMoreUsersInfo(page = 1) {\n  const res = await axios.get(`/users?page=${page}&limit=6`);\n  return res.data;\n}\n\nexport const updateUser = async ({ id }) => {\n  const res = await axios.put(`/users/${id}`, { followers: 100500 });\n  return res.data;\n};\n","import styled from 'styled-components';\n\nexport const TweetsListItem = styled.div`\n  width: 380px;\n  height: 460px;\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n\n  position: relative;\n`;\n\nexport const DecorCardPart = styled.div`\n  padding: 28px 36px 18px;\n`;\n\nexport const InfoCardPart = styled.div`\n  position: relative;\n  text-align: center;\n  color: #ebd8ff;\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.2;\n  text-transform: uppercase;\n  &:before {\n    content: '';\n    width: 100%;\n    display: block;\n    height: 8px;\n    background: #ebd8ff;\n    margin-bottom: 62px;\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n      inset 0px -1.71846px 3.43693px #ae7be3,\n      inset 0px 3.43693px 2.5777px #fbf8ff;\n  }\n`;\n\nexport const LogoImg = styled.img`\n  position: absolute;\n  left: 20px;\n  top: 20px;\n`;\n\nexport const Avatar = styled.img`\n  width: 64px;\n  height: 64px;\n  position: absolute;\n  left: 50%;\n  top: 0;\n  transform: translate(-50%, -50%);\n\n  border: 13px solid #ebd8ff;\n  border-radius: 50%;\n\n  overflow: hidden;\n`;\n\nexport const Tweets = styled.p`\n  margin-bottom: 16px;\n`;\nexport const Followers = styled.p`\n  margin-bottom: 26px;\n`;\n\nexport const FollowBtn = styled.button`\n  background: ${props => (props.following ? '#5CD3A8' : '#EBD8FF')};\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  border: none;\n\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n\n  width: 196px;\n  height: 50px;\n`;\n","import {\n  Avatar,\n  DecorCardPart,\n  Followers,\n  InfoCardPart,\n  LogoImg,\n  TweetsListItem,\n  Tweets,\n  FollowBtn,\n} from './Card.styled';\nimport logo from '../../img/logo.png';\nimport decorImg from '../../img/decor.png';\n\nexport const Card = ({ userInfo, onFollow, following }) => {\n  const { id, tweets, followers, avatar } = userInfo;\n  const followNow = following(id);\n\n  const converNumber = number => new Intl.NumberFormat('ja-JP').format(number);\n\n  return (\n    <TweetsListItem>\n      <DecorCardPart>\n        <LogoImg src={logo} alt=\"Logo\" />\n        <img src={decorImg} alt=\"Logo\" />\n      </DecorCardPart>\n      <InfoCardPart>\n        <Avatar src={avatar} alt=\"Avatar\" />\n        <Tweets>{tweets} TWEETS</Tweets>\n        <Followers>\n          {followNow ? converNumber(followers + 1) : converNumber(followers)}{' '}\n          FOLLOWERS\n        </Followers>\n        <FollowBtn\n          id={id}\n          following={followNow ? 'following' : ''}\n          onClick={onFollow}\n        >\n          {followNow ? 'following' : 'follow'}\n        </FollowBtn>\n      </InfoCardPart>\n    </TweetsListItem>\n  );\n};\n","import styled from 'styled-components';\n\nexport const TweetsStyledList = styled.ul`\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: auto;\n  list-style: none;\n  max-width: 1200px;\n`;\n","import { Card } from 'components/Card/Card';\nimport { TweetsStyledList } from './TweetList.styled';\n\nexport const TweetsList = ({ users, onFollow, following }) => {\n  return (\n    <TweetsStyledList>\n      {users.map(user => {\n        return (\n          <li key={user.id}>\n            <Card userInfo={user} onFollow={onFollow} following={following} />\n          </li>\n        );\n      })}\n    </TweetsStyledList>\n  );\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const TweetsContainer = styled.div`\n  max-width: 1200px;\n  padding: 0 40px;\n  margin: 0 auto;\n`;\n\nexport const LoadMoreBtn = styled.button`\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  border: none;\n  cursor: pointer;\n\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n  color: #ebd8ff;\n\n  width: 196px;\n  height: 50px;\n\n  display: block;\n  margin: 24px auto;\n`;\n\nexport const StyledLinkBack = styled(NavLink)`\n  background: white;\n  width: 50px;\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  text-decoration: none;\n  border: 1px solid black;\n  border-radius: 50%;\n\n  position: fixed;\n  left: 30px;\n  bottom: 30px;\n\n  z-index: 99;\n`;\n","import styled from 'styled-components';\n\nexport const SpinnerContainer = styled.div`\n  width: 100%;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n`;\n","import { ClipLoader } from 'react-spinners';\nimport { SpinnerContainer } from './Spinner.styled';\n\nexport const Spinner = () => {\n  return (\n    <SpinnerContainer>\n      <ClipLoader color=\"#4b2a99\" loading size={100} />\n    </SpinnerContainer>\n  );\n};\n","import styled from 'styled-components';\n\nexport const SelectContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nexport const SelectStyled = styled.select`\n  width: 20%;\n  height: 30px;\n  padding: 5px;\n  font-size: 17px;\n  border: 1px solid #4e2faa;\n  border-radius: 4px;\n  outline: none;\n`;\n","import { SelectContainer, SelectStyled } from './Select.styled';\n\nexport const Select = ({ handleSelectChange }) => {\n  return (\n    <SelectContainer>\n      <SelectStyled onChange={handleSelectChange}>\n        <option value={'All'}>All</option>\n        <option value={'Follow'}>Follow</option>\n        <option value={'Following'}>Following</option>\n      </SelectStyled>\n    </SelectContainer>\n  );\n};\n","import styled from 'styled-components';\n\nexport const ErrorImgContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nexport const ErrorImgStyled = styled.img`\n  width: 100%;\n`;\n","import errorImg from '../../img/error.png';\nimport { ErrorImgContainer, ErrorImgStyled } from './ErrorMsg.styled';\n\nexport const ErrorMsg = () => {\n  return (\n    <ErrorImgContainer>\n      <ErrorImgStyled src={errorImg} alt=\"Error message\" />\n    </ErrorImgContainer>\n  );\n};\n","import { getMoreUsersInfo, getUsersBase } from 'services/UserServices';\nimport { useEffect, useState } from 'react';\nimport { useLocalStorage } from 'components/localStorage/localStorage';\nimport { TweetsList } from 'components/TweetList/TweetList';\n\nimport { LoadMoreBtn, StyledLinkBack, TweetsContainer } from './Tweets.styled';\nimport { Spinner } from 'components/Spinner/Spinner';\nimport { Select } from 'components/Select/Select';\nimport { ErrorMsg } from 'components/ErrorMsg/ErrorMsg';\n\nconst Tweets = () => {\n  const [userStatistics, setUserStatistic] = useState([]);\n  const [isLoading, setIsloading] = useState(false);\n  const [error, setError] = useState(null);\n  const [allUsers, setallUsers] = useState([]);\n  const [filterUsers, setfilterUsers] = useState([]);\n\n  const [follow, setfollow] = useLocalStorage('follow');\n  const [filterValue, setFilterValue] = useState('all');\n\n  const [loadMore, setLoadMore] = useState(true);\n  const [page, setPage] = useState(2);\n  const [maxPages, setMaxPages] = useState(0);\n\n  const handleLoadMore = async () => {\n    try {\n      setPage(prev => prev + 1);\n      const res = await getMoreUsersInfo(page);\n      setallUsers(prev => [...prev, ...res]);\n    } catch (e) {\n      setError(e.message);\n    }\n  };\n\n  const onFollow = e => {\n    const followingId = e.target.id;\n    follow.some(id => id === followingId)\n      ? setfollow(prev => prev.filter(id => id !== followingId))\n      : setfollow(prev => [...prev, followingId]);\n  };\n\n  const handleSelectChange = e => {\n    const value = e.target.value.toLowerCase();\n    setFilterValue(value);\n  };\n\n  function getInfoAboutFollowing(id) {\n    return follow.some(followId => followId === id);\n  }\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsloading(true);\n        const res = await getUsersBase();\n        const resForDisplay = await getMoreUsersInfo();\n        setUserStatistic(res);\n        setallUsers(resForDisplay);\n      } catch (e) {\n        setError(e.message);\n      } finally {\n        setIsloading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    setMaxPages(Math.round(userStatistics.length / 6));\n  }, [userStatistics]);\n\n  useEffect(() => {\n    page > maxPages ? setLoadMore(false) : setLoadMore(true);\n  }, [page, maxPages]);\n\n  useEffect(() => {\n    switch (filterValue) {\n      case 'follow':\n        setfilterUsers(\n          userStatistics.filter(user => !follow.includes(user.id))\n        );\n        setLoadMore(false);\n\n        break;\n      case 'following':\n        setfilterUsers(userStatistics.filter(user => follow.includes(user.id)));\n        setLoadMore(false);\n\n        break;\n      default:\n        setfilterUsers([]);\n        setLoadMore(true);\n    }\n  }, [filterValue, follow, userStatistics]);\n\n  return isLoading ? (\n    <Spinner />\n  ) : error ? (\n    <ErrorMsg />\n  ) : (\n    <TweetsContainer>\n      <StyledLinkBack to=\"/\">Back</StyledLinkBack>\n      <Select handleSelectChange={handleSelectChange} />\n      <TweetsList\n        users={!filterUsers.length ? allUsers : filterUsers}\n        onFollow={onFollow}\n        following={getInfoAboutFollowing}\n      />\n      {loadMore && (\n        <LoadMoreBtn onClick={handleLoadMore}>Load more</LoadMoreBtn>\n      )}\n    </TweetsContainer>\n  );\n};\n\nexport default Tweets;\n","import { useEffect, useState } from 'react';\n\nexport const useLocalStorage = key => {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? []\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, setState];\n};\n"],"names":["getUsersBase","axios","res","data","getMoreUsersInfo","page","TweetsListItem","styled","DecorCardPart","InfoCardPart","LogoImg","Avatar","Tweets","Followers","FollowBtn","props","following","Card","userInfo","onFollow","id","tweets","followers","avatar","followNow","converNumber","number","Intl","NumberFormat","format","src","alt","decorImg","onClick","TweetsStyledList","TweetsList","users","map","user","TweetsContainer","LoadMoreBtn","StyledLinkBack","NavLink","SpinnerContainer","Spinner","ClipLoader","color","loading","size","SelectContainer","SelectStyled","Select","handleSelectChange","onChange","value","ErrorImgContainer","ErrorImgStyled","ErrorMsg","errorImg","useState","userStatistics","setUserStatistic","isLoading","setIsloading","error","setError","allUsers","setallUsers","filterUsers","setfilterUsers","key","JSON","parse","window","localStorage","getItem","state","setState","useEffect","setItem","stringify","useLocalStorage","follow","setfollow","filterValue","setFilterValue","loadMore","setLoadMore","setPage","maxPages","setMaxPages","handleLoadMore","prev","message","resForDisplay","Math","round","length","filter","includes","to","e","target","toLowerCase","followingId","some","followId"],"sourceRoot":""}